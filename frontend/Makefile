.PHONY: dev build preview test clean install help

# Cores para output
BLUE := \033[0;34m
GREEN := \033[0;32m
NC := \033[0m # No Color

help: ## Mostra esta mensagem de ajuda
	@echo "${BLUE}Comandos disponÃ­veis para o frontend:${NC}"
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | sort | awk 'BEGIN {FS = ":.*?## "}; {printf "${GREEN}%-15s${NC} %s\n", $$1, $$2}'

dev: ## Inicia servidor de desenvolvimento Vite
	@echo "${BLUE}âš›ï¸  Iniciando frontend...${NC}"
	@npm run dev

build: ## Build para produÃ§Ã£o
	@echo "${BLUE}ğŸ—ï¸  Fazendo build...${NC}"
	@npm run build
	@echo "${GREEN}âœ… Build completo!${NC}"

preview: ## Preview do build de produÃ§Ã£o
	@echo "${BLUE}ğŸ‘€ Preview do build...${NC}"
	@npm run preview

test: ## Roda testes
	@echo "${BLUE}ğŸ§ª Executando testes...${NC}"
	@npm test

test-watch: ## Roda testes em modo watch
	@echo "${BLUE}ğŸ‘€ Executando testes em watch mode...${NC}"
	@npm run test:watch

lint: ## Roda linter
	@echo "${BLUE}ğŸ” Executando linter...${NC}"
	@npm run lint

clean: ## Remove node_modules e dist
	@echo "${BLUE}ğŸ§¹ Limpando...${NC}"
	@rm -rf node_modules dist
	@echo "${GREEN}âœ… Limpeza completa!${NC}"

install: ## Instala dependÃªncias
	@echo "${BLUE}ğŸ“¦ Instalando dependÃªncias...${NC}"
	@npm install
	@echo "${GREEN}âœ… DependÃªncias instaladas!${NC}"
